# Production configuration for Play app
# - Secret key must be provided by environment
# - Database configuration via environment
# - Host filters restricted to deployment domain
# - Evolutions enabled but not auto-applied in production

# Secret key (must be set via env)
play.http.secret.key = ${?PLAY_SECRET}

# Database (PostgreSQL)
db.default.driver = org.postgresql.Driver
db.default.url = ${?DB_URL}
db.default.username = ${?DB_USER}
db.default.password = ${?DB_PASSWORD}

# HTTP Port (provided by platform - Render)
play.server.http.port = ${?PORT}

# Allowed hosts (restrict to your deployment domain)
play.filters.hosts {
  allowed = [
    ".givery-recipe-app.onrender.com"
  ]
}

# Database evolutions: enable, but do NOT auto-apply in prod
play.evolutions.enabled = true
play.evolutions.autoApply = false

# Dependency injection module and JPA configuration
play.modules.enabled += "module.Module"
jpa.default=default

# Global error handler and JSON serialization settings
play.http.errorHandler = "error.JsonErrorHandler"
play.json.jackson.serialization.write-dates-as-timestamps = false

db.default.jndiName=DefaultDS
